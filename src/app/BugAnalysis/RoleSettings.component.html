<p-toast [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"></p-toast>
<p-dialog header="Add New Team Memeber" [(visible)]="display"  [style]="{width: '30vw'}" >
   <table>
  <tr>
  <Td>
  Name
  </Td>
  <Td>

    <input type="text" pInputText />


  </Td>
  </tr>
  <tr>
  <td>

    Team
  </td>
   
    <Td>
  
        <p-dropdown [options]="teamname" [(ngModel)]="selectedteams" [virtualScroll]="true"
        [panelStyle]="{minWidth:'30em'}" >
    </p-dropdown>
  
  
    </Td>
    </tr>
    <tr>


   
    <Td>

        Role
      
      
        </Td>
        <Td>
      
            <p-dropdown [options]="roles"  optionLabel="value" [showClear]="true"
            [style]="{'width': 'auto'}"></p-dropdown>
      
      
        </Td>
</tr>
<tr>

<td>
    <button pButton type="button" label="Save" (click)="update_main_table()"  ></button> 
</td>

</tr>
   </table>
</p-dialog>
<div class="p-grid" style="display: block;  padding: 5px">
    <p-toolbar>
        <div class="p-col-4 ui-toolbar-group-left">
            <div class="ui-inputgroup">
                <table>
                    
                <tr>
                    <td>
                        <label style="margin-left:10px; margin-top: 5px;margin-right: 5px;"> Select Team: </label>

                    </td>
                    <td>
                        <p-dropdown [options]="teamname" [(ngModel)]="selectedteams" [virtualScroll]="true"
                        [panelStyle]="{minWidth:'30em'}" >
                    </p-dropdown>
                    </td>
                   
                
            
               <td class="col-sm">

             
                    <button pButton type="button"  icon="pi pi-search" (click)="get_team_data()"  
                    
                    ></button>  
                    
            
              
               </td>
               
              
               <td>
                <button pButton type="button" label="Update" (click)="update_main_table()"  ></button> 
               </td>
               <td>
                <button pButton type="button" label="Add" (click)="showDialog()"  ></button> 
               </td>
              
                </tr>
            </table>
            </div>
            <div class="ui-inputgroup">
                
              
              
            </div>
          
        </div>
        
        
        
         
    </p-toolbar>
    
    <div class="container">
        <table class="table" #table>
        
      
            
    <p-table  [value]="Rolesdata" *ngIf="Rolesdata.length>0">
        <ng-template pTemplate="caption">
            <div class="ui-helper-clearfix" style="text-align: left">
            
                <button type="button" pButton icon="pi pi-file-excel" iconPos="left" label="EXCEL" (click)="exportExcel()" style="margin-right: 0.5em;" class="ui-button-success"></button>
               
            </div>
        </ng-template>
        
        <ng-template pTemplate="header"  >
            <tr> 
                <th>Role</th>
                <th>Name</th>
                <th>Team</th>
                <th>Update/Delete</th>
              
               
        

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-Rolesdata>
            
            <tr>
                <td  [style]="{width:'auto'}"><p-dropdown [options]="roles"  [(ngModel)]="Rolesdata.role" placeholder="{{Rolesdata.role}}" optionLabel="value" [showClear]="true"
                    [style]="{'width': 'auto'}"></p-dropdown></td>
                    
                <td>{{Rolesdata.name}}</td>
                <td  [style]="{width:'auto'}"><p-dropdown [options]="teamname"  [(ngModel)]="Rolesdata.Team" placeholder="{{Rolesdata.Team}}" optionLabel="value" [showClear]="true"
                    [style]="{'width': 'auto'}"></p-dropdown></td>
                <td><button id="disabled-btn" type="button"(click)="update_teams_role(Rolesdata.role,Rolesdata.name,Rolesdata.Team)" pButton label="Update"></button>
                 
                <button  class="p-button-danger" type="button" (click)="update_teams_role(Rolesdata.role.label,Rolesdata.name,Rolesdata.Team.label)" pButton label="Delete"></button></td>
           
               
            </tr>
        </ng-template>
    </p-table>
  
   
</table>

</div>
</div>